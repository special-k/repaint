var MemoryStats=function(){var e=100,t=0,a=document.createElement("div");a.id="stats",a.style.cssText="width:80px;opacity:0.9;cursor:pointer";var o=document.createElement("div");o.id="ms",o.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;",a.appendChild(o);var r=document.createElement("div");r.id="msText",r.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px",r.innerHTML="Memory",o.appendChild(r);var n=document.createElement("div");for(n.id="msGraph",n.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0",o.appendChild(n);n.children.length<74;){var i=document.createElement("span");i.style.cssText="width:1px;height:30px;float:left;background-color:#131",n.appendChild(i)}var d=function(e,t,a){var o=e.appendChild(e.firstChild);o.style.height=t+"px",a&&(o.style.backgroundColor=a)},l=window.performance||{};l||l.memory||(l.memory={usedJSHeapSize:0}),l&&!l.memory&&(l.memory={usedJSHeapSize:0}),0===l.memory.totalJSHeapSize&&console.warn("totalJSHeapSize === 0... performance.memory is only available in Chrome .");var m=Date.now(),s=l.memory.usedJSHeapSize;return{domElement:a,update:function(){function a(e,t){var a=["Bytes","KB","MB","GB","TB"];if(0==e)return"n/a";t=void 0!==t?t:0;var o=Math.pow(10,t),r=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e*o/Math.pow(1024,r))/o+" "+a[r]}if(!(Date.now()-m<1e3/30)){m=Date.now();var o=l.memory.usedJSHeapSize-s;s=l.memory.usedJSHeapSize;var i=0>o?"#830":"#131",p=l.memory.usedJSHeapSize;e=Math.min(e,p),t=Math.max(t,p),r.textContent="Mem: "+a(p,2);var c=p/31457280,h=Math.min(30,30-30*c);d(n,h,i)}}}};
